# [ARCHIVED — 5 層に統合済み (004)] 7-Layer Intelligence Architecture の設計

## 問い

Neural Organization のコアアーキテクチャとして、データが入力されてからアウトプットが生まれるまでの変換パイプラインをどのように設計すべきか。

## 論点

1. パイプラインの始点 — データが「入る前」のレイヤーを定義すべきか
2. 知覚と理解の分離 — 生データからの変換を単一層にするか分離するか
3. 推論と行動の間のギャップ — 戦略から直接行動に移るか、中間層を置くか
4. 内省の位置づけ — フィードバックを独立した層として扱うか
5. 横断的要素の設計 — Purpose・Governance・Memory をどうアーキテクチャに組み込むか
6. Governance Gate の配置 — 人間の承認をどの層に要求するか

## 論点分解

### 論点 1: パイプラインの始点

- 既存設計では Perception（知覚）が最初の層だったが、「何に接続するか」という判断自体が知的行為
- 受動的なデータ受信だけでなく、能動的にデータソースを探索・接続する機能が必要
- 盲点の検出（「接続していないが接続すべきソース」）は高次の知的判断

### 論点 2: 知覚と理解の分離

- 生データの正規化・ノイズ除去と、因果モデルの構築は本質的に異なる認知プロセス
- 知覚: 「何が起きているか」を検出する（シグナル検出）
- 理解: 「なぜ起きているか」を構造化する（因果モデル構築）
- 脳科学の知見でもこれらは異なる処理系

### 論点 3: 推論と行動の間

- 戦略（「何をすべきか」）と実行（「どう実行するか」）の間には、複数領域を横断する行動計画の構成が必要
- 単一領域の行動は直線的だが、組織知能の真価は領域横断的な行動の統合にある
- この「構成」能力が流体的インテリジェンスの本質

### 論点 4: 内省の位置づけ

- フィードバックを各層に埋め込むか、独立層にするか
- 独立層にすることで「どの層が原因か」という自己参照的な分析が可能になる
- 組織学習の核心は、結果から原因層を特定し修正する能力

### 論点 5: 横断的要素

- Purpose: 人間の意志をシステムに注入する界面。主に Reasoning 層に作用
- Governance: 人間がシステムの行動を統治する仕組み。特定の層に Gate を設置
- Memory: 全層にまたがる永続状態。蓄積された組織理解の実体

### 論点 6: Governance Gate の配置

- 重要な判断（Reasoning 層）と不可逆な行動（Execution 層）に Gate を置くべきか
- Gate が多すぎるとシステムの自律性を損なう
- Gate が少なすぎると人間の統治が不十分になる

## 仮説構築

### 選択肢 A: 5-Layer（旧設計）

Perception → Understanding → Reasoning → Action → Reflection の 5 層構成。

- データソースへの接続は Perception に含む
- 行動計画の構成は Action に含む
- 横断的要素は明示的に設計していない

### 選択肢 B: 7-Layer + Crosscutting

Layer 0（Integration）〜 Layer 6（Reflection）の 7 層 + Purpose・Governance・Memory の横断的要素。

- Integration: 現実世界との接続を独立した知的行為として定義
- Perception / Understanding: 知覚と理解を明確に分離
- Reasoning: 世界モデル × 目的 → 戦略
- Composition: 戦略を領域横断的な行動計画に構成（流体的インテリジェンスの核心）
- Execution: 行動計画を実行しアウトプットを生成
- Reflection: 全層を対象とした自己参照的内省
- Crosscutting: Purpose（意志注入）, Governance（Gate 付き統治）, Memory（全層の永続状態）

## 仮説の評価

| 評価軸 | A: 5-Layer | B: 7-Layer + Crosscutting |
|---|---|---|
| 変換の明確性 | 層の責務が曖昧。Action が計画と実行を混在 | 各層の入力→出力が明確に定義されている |
| 能動的接続 | Perception に埋没し、能動的ソース探索が設計上見えない | Integration として独立し、盲点検出を含む |
| 知覚と理解 | 暗黙に分離されているが設計上は未分化 | 明確に分離され、それぞれの変換が定義されている |
| 行動計画の構成 | Action に含まれ、領域横断的な統合が設計上見えない | Composition として独立し、流体的インテリジェンスの核心を表現 |
| 人間の統治 | 明示的な設計なし | Governance Gate を L3（判断）と L5（実行）に配置 |
| 組織記憶 | 明示的な設計なし | Memory が全層の永続状態として設計されている |
| 設計の複雑性 | シンプル | やや複雑だが、各層の責務が明確なため理解しやすい |
| 差別化 | 一般的な AI パイプラインと類似 | 独自のアーキテクチャとして差別化可能 |

## 結論

**選択肢 B（7-Layer + Crosscutting）** を採択する。

### 7-Layer Intelligence Architecture

| Layer | Name | 和名 | Transform |
|---|---|---|---|
| 0 | Integration | 接続 | 現実世界 → 生データ |
| 1 | Perception | 知覚 | 生データ → シグナル |
| 2 | Understanding | 理解 | シグナル → 世界モデル |
| 3 | Reasoning | 推論 | 世界モデル × 目的 → 戦略 |
| 4 | Composition | 構成 | 戦略 → 統合行動計画 |
| 5 | Execution | 実行 | 行動計画 → アウトプット |
| 6 | Reflection | 内省 | アウトプット → 学習シグナル → 全層の更新 |

### Crosscutting Concerns

| 要素 | 和名 | 役割 |
|---|---|---|
| Purpose | 目的 | 人間が意志を注入する界面。主に L3 に作用 |
| Governance | 統治 | 人間の統治。L3 と L5 に Gate を配置 |
| Memory | 記憶 | 全層の永続状態。蓄積された組織理解の実体 |

### 設計上の要点

1. **Integration の独立**: 「何に接続すべきか」という判断を独立した知的行為として定義。盲点検出を含む
2. **Perception / Understanding の分離**: シグナル検出と因果モデル構築を明確に分離
3. **Composition の導入**: 戦略を領域横断的な行動計画に構成する層を独立化。流体的インテリジェンスの核心
4. **Governance Gate**: L3（重要な判断）と L5（不可逆な行動）に人間の承認ゲートを配置
5. **Memory**: 各層の永続状態の総体が「組織の記憶」を構成し、蓄積された組織理解（Moat）の実体となる
6. **Reflection の全層参照**: 単なるフィードバックではなく、全層を対象とした自己参照的内省

## ネクストアクション

- [x] concept.md のアーキテクチャセクションを 7-Layer 構成に更新
- [x] Architecture.tsx を 7-Layer パイプライン表示に更新
- [ ] 各層の詳細設計（入力・出力・内部プロセス・状態管理の定義）
- [ ] Governance Gate の具体的なトリガー条件とエスカレーションルールの設計
- [ ] Memory の実装アーキテクチャ（各層がどのように永続状態を管理するか）
- [ ] 層間の通信プロトコルの設計（特に Reflection → 全層のフィードバック経路）

## 残論点

- **層間の粒度**: 7 層が最適な粒度か。将来的に層の追加・統合が必要になる可能性
- **Composition の実装**: 領域横断的な行動計画の構成は、技術的に最も困難な部分。具体的な実装アプローチの検討が必要
- **Reflection の実行頻度**: リアルタイム内省とバッチ内省のバランス。すべてのアウトプットに対して全層参照の内省を行うのはコスト的に非現実的
- **Governance Gate の適応性**: Gate のトリガー条件は固定的ではなく、システムの成熟度と信頼の蓄積に応じて動的に調整されるべきか
- **Memory の一貫性**: 全層が独立して永続状態を持つ場合、層間の状態の一貫性をどう保証するか
